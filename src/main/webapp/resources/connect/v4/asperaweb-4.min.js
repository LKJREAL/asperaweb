/*!
 *   Revision: 3.11.2-c8de84c
 *   Date: 2021-04-06 18:32:11
 * 
 *   http://www.asperasoft.com
 *   Copyright IBM Corp. 2008, 2021
 */
window.AW4=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=69)}([function(t,e){t.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},function(t,e,n){var r=n(19)("wks"),o=n(52),i=n(0).Symbol,s=n(86);t.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))}},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return i}),n.d(e,"__rest",function(){return s}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return c}),n.d(e,"__metadata",function(){return u}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return f}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return h}),n.d(e,"__spread",function(){return v}),n.d(e,"__await",function(){return g}),n.d(e,"__asyncGenerator",function(){return E}),n.d(e,"__asyncDelegator",function(){return _}),n.d(e,"__asyncValues",function(){return T}),n.d(e,"__makeTemplateObject",function(){return m}),n.d(e,"__importStar",function(){return S}),n.d(e,"__importDefault",function(){return y});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n}function a(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}c((r=r.apply(t,e||[])).next())})}function f(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function E(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=o[t](e)).value instanceof g?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(t){l(i[0][3],t)}var n}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function T(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,o){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,o,(e=t[n](e)).done,e.value)})}}}function m(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function y(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);r.__exportStar(n(116),e),r.__exportStar(n(117),e),r.__exportStar(n(118),e),r.__exportStar(n(119),e),r.__exportStar(n(120),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=r.__importStar(n(5)),i=r.__importDefault(n(27));e.BROWSER=i.default;var s=n(3),a=n(44);a.ConnectGlobals.sessionId=f(),a.ConnectGlobals.sessionKey=d(32);var c=0;function u(t,e){var n="";return-1===t&&(n="Invalid request"),{error:{code:t,internal_message:n,user_message:e}}}function l(t){return""===t||null==t}function f(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n;return n=((t+16)*Math.random()).toFixed()%16,"x"!==e&&(n=3&n|8),n.toString(16)})}function d(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}e.getInitUrl=function(){return"fasp://initialize"},e.getXMLHttpRequest=function(){return"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}),new XMLHttpRequest},e.createError=u,e.parseJson=function(t){var e;"string"==typeof t&&(0===t.length||t.replace(/\s/g,""));try{e=JSON.parse(t)}catch(t){e=u(-1,t)}return e},e.copyObject=function(t){var e={};if(!l(t))for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},e.isNullOrUndefinedOrEmpty=l,e.versionLessThan=function(t,e){var n,r=function(t){for(var e=t.split("."),n=new Array,r=0;r<e.length;r++){var o=parseInt(e[r],10);isNaN(o)||n.push(o)}return n},o=r(t),i=r(e);for(n=0;n<Math.min(o.length,i.length);n++){if(o[n]<i[n])return!0;if(o[n]>i[n])return!1}return!1},e.checkVersionException=function(){if("undefined"==typeof localStorage)return!1;var t=localStorage.getItem(s.LS_CONTINUED_KEY);return null!=t&&Math.round((new Date).getTime()/1e3)-Number(t)<1440&&(o.debug("User opted out of update"),!0)},e.addVersionException=function(){"undefined"!=typeof localStorage&&localStorage.setItem(s.LS_CONTINUED_KEY,String(Math.round((new Date).getTime()/1e3)))},e.generatePromiseData=function(){var t,e;return{promise:new Promise(function(n,r){t=n,e=r}),resolver:t,rejecter:e}},e.generateUuid=f,e.generateRandomStr=d,e.launchConnect=function(t){var e=!1,n="fasp://initialize";if(o.debug("Starting Connect session: "+n),i.default.CHROME||i.default.OPERA)document.body.focus(),document.body.onblur=function(){e=!0},document.location.href=n,setTimeout(function(){document.body.onblur=null,"function"==typeof t&&t(e)},500);else if(i.default.EDGE_LEGACY||i.default.EDGE_WITH_EXTENSION)document.location.href=n;else if(i.default.FIREFOX_LEGACY||i.default.FIREFOX||i.default.SAFARI_NO_NPAPI){var r=document.createElement("IFRAME");r.src=n,r.style.visibility="hidden",r.style.position="absolute",r.style.width="0px",r.style.height="0px",r.style.border="0px",document.body.appendChild(r)}},e.getFullURI=function(t){if("string"==typeof t){var e=t,n=document.createElement("a");n.href=e;var r=n.href;return-1!==r.indexOf("/",r.length-1)&&(r=r.slice(0,-1)),r}},e.utoa=function(t){return window.btoa?window.btoa(unescape(encodeURIComponent(t))):t},e.atou=function(t){return window.atob?decodeURIComponent(escape(window.atob(t))):t},e.nextObjectId=function(){return++c},e.isSuccessCode=function(t){return t>=200&&t<300},e.getLocalStorage=function(t){try{return"undefined"==typeof localStorage?"":localStorage.getItem(t)}catch(t){return o.error("Error accessing localStorage: ",JSON.stringify(t)),""}},e.recordConnectDetected=function(){window.localStorage.setItem(s.LS_CONNECT_DETECTED,Date.now().toString())},e.setLocalStorage=function(t,e){try{return"undefined"==typeof localStorage?"":localStorage.setItem(t,e)}catch(t){return void o.error("Error accessing localStorage: ",JSON.stringify(t))}},e.entropyOk=function(t){var e=0,n=t.length,r=Object.create({});for(var o in t.split("").forEach(function(t){r[t]?r[t]+=1:r[t]=1}),r){var i=r[o]/n;e-=i*(Math.log(i)/Math.log(2))}return e>3.8},e.isError=function(t){return t&&void 0!==t.error}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=1,i=2,s=0;function a(t,e){void 0!==window.console&&console[t].apply(console,e)}"undefined"!=typeof localStorage&&localStorage.hasOwnProperty(r.LS_LOG_KEY)&&(s=Number(localStorage.getItem(r.LS_LOG_KEY))),e.trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s>=i&&a("log",t)},e.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s>=o&&a("log",t)},e.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a("log",t)},e.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a("warn",t)},e.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a("error",t)},e.setLevel=function(t){s=t,localStorage[r.LS_LOG_KEY]=t}},function(t,e,n){var r=n(0),o=n(35).f,i=n(7),s=n(18),a=n(38),c=n(77),u=n(53);t.exports=function(t,e){var n,l,f,d,p,h=t.target,v=t.global,g=t.stat;if(n=v?r:g?r[h]||a(h,{}):(r[h]||{}).prototype)for(l in e){if(d=e[l],f=t.noTargetGet?(p=o(n,l))&&p.value:n[l],!u(v?l:h+(g?".":"#")+l,t.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(t.sham||f&&f.sham)&&i(d,"sham",!0),s(n,l,d,t)}}},function(t,e,n){var r=n(14),o=n(36);t.exports=n(13)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(10);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){t.exports=!n(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(13),o=n(50),i=n(8),s=n(49),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(i(t),e=s(e,!0),i(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(24),o=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){var r=n(28),o=n(29);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(0),o=n(7),i=n(9),s=n(38),a=n(51),c=n(21),u=c.get,l=c.enforce,f=String(a).split("toString");n(19)("inspectSource",function(t){return a.call(t)}),(t.exports=function(t,e,n,a){var c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),l(n).source=f.join("string"==typeof e?e:"")),t!==r?(c?!d&&t[e]&&(u=!0):delete t[e],u?t[e]=n:o(t,e,n)):u?t[e]=n:s(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&u(this).source||a.call(this)})},function(t,e,n){var r=n(0),o=n(38),i=r["__core-js_shared__"]||o("__core-js_shared__",{});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.0.1",mode:n(20)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,n){var r,o,i,s=n(76),a=n(10),c=n(7),u=n(9),l=n(39),f=n(32),d=n(0).WeakMap;if(s){var p=new d,h=p.get,v=p.has,g=p.set;r=function(t,e){return g.call(p,t,e),e},o=function(t){return h.call(p,t)||{}},i=function(t){return v.call(p,t)}}else{var E=l("state");f[E]=!0,r=function(t,e){return c(t,E,e),e},o=function(t){return u(t,E)?t[E]:{}},i=function(t){return u(t,E)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!a(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){t.exports=n(0)},function(t,e,n){var r=n(24);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(8),o=n(103),i=n(30),s=n(23),a=n(104),c=n(105),u={};(t.exports=function(t,e,n,l,f){var d,p,h,v,g,E=s(e,n,l?2:1);if(f)d=t;else{if("function"!=typeof(p=a(t)))throw TypeError("Target is not iterable");if(o(p)){for(h=0,v=i(t.length);v>h;h++)if((l?E(r(g=t[h])[0],g[1]):E(t[h]))===u)return u;return}d=p.call(t)}for(;!(g=d.next()).done;)if(c(d,E,g.value,l)===u)return u}).BREAK=u},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="undefined"!=typeof navigator?navigator.userAgent:"",o=function(t,e){var n=t.match(/(?:Edge)[\/](\d+(\.\d+)?)/i);return parseInt(n&&n.length>1&&n[1]||"0",10)>=e},i=function(t,e){var n=t.match(/(?:Firefox)[\/](\d+(\.\d+)?)/i);return parseInt(n&&n.length>1&&n[1]||"0",10)>=e};e.default={OPERA:/opera|opr/i.test(r)&&!/edge/i.test(r),IE:/msie|trident/i.test(r)&&!/edge/i.test(r),CHROME:/chrome|crios|crmo/i.test(r)&&!/opera|opr/i.test(r)&&!/edge/i.test(r),FIREFOX:/firefox|iceweasel/i.test(r)&&!/edge/i.test(r)&&i(r,50),FIREFOX_LEGACY:/firefox|iceweasel/i.test(r)&&!/edge/i.test(r)&&!i(r,50),EDGE_CHROMIUM:/edg/i.test(r)&&!/edge/i.test(r),EDGE_WITH_EXTENSION:/edge/i.test(r)&&o(r,14),EDGE_LEGACY:/edge/i.test(r)&&!o(r,14),SAFARI:/safari/i.test(r)&&!/chrome|crios|crmo/i.test(r)&&!/edge/i.test(r),SAFARI_NO_NPAPI:/safari/i.test(r)&&!/chrome|crios|crmo/i.test(r)&&!/edge/i.test(r)&&function(t,e){var n=r.match(/(?:Version)[\/](\d+(\.\d+)?)/i);return parseInt(n&&n.length>1&&n[1]||"0",10)>=10}()}},function(t,e,n){var r=n(11),o=n(12),i="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(31),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports={}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(29);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(13),o=n(48),i=n(36),s=n(17),a=n(49),c=n(9),u=n(50),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(10),o=n(0).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(0),o=n(7);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(19)("keys"),o=n(52);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(8),o=n(87),i=n(33),s=n(55),a=n(37),c=n(39)("IE_PROTO"),u=function(){},l=function(){var t,e=a("iframe"),n=i.length;for(e.style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[i[n]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[c]=t):n=l(),void 0===e?n:o(n,e)},n(32)[c]=!0},function(t,e,n){var r=n(9),o=n(34),i=n(39)("IE_PROTO"),s=n(96),a=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(14).f,o=n(9),i=n(1)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(22),o=n(0),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectGlobals={connectVersion:"",minVersion:"",sessionId:"",sessionKey:""}},function(t,e,n){var r=n(46),o=n(33);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(9),o=n(17),i=n(74)(!1),s=n(32);t.exports=function(t,e){var n,a=o(t),c=0,u=[];for(n in a)!r(s,n)&&r(a,n)&&u.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~i(u,n)||u.push(n));return u}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(10);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){t.exports=!n(13)&&!n(11)(function(){return 7!=Object.defineProperty(n(37)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=n(19)("native-function-to-string",Function.toString)},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(11),o=/#|\.prototype\./,i=function(t,e){var n=a[s(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},s=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";t.exports=i},function(t,e,n){var r=n(1)("unscopables"),o=n(40),i=n(7),s=Array.prototype;null==s[r]&&i(s,r,o(null)),t.exports=function(t){s[r][t]=!0}},function(t,e,n){var r=n(0).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(12),o=n(1)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){"use strict";var r=n(6),o=n(95),i=n(41),s=n(59),a=n(42),c=n(7),u=n(18),l=n(20),f=n(1)("iterator"),d=n(15),p=n(58),h=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,g=function(){return this};t.exports=function(t,e,n,p,E,_,T){o(n,e,p);var m,S,y,O=function(t){if(t===E&&A)return A;if(!v&&t in b)return b[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},w=e+" Iterator",I=!1,b=t.prototype,N=b[f]||b["@@iterator"]||E&&b[E],A=!v&&N||O(E),R="Array"==e&&b.entries||N;if(R&&(m=i(R.call(new t)),h!==Object.prototype&&m.next&&(l||i(m)===h||(s?s(m,h):"function"!=typeof m[f]&&c(m,f,g)),a(m,w,!0,!0),l&&(d[w]=g))),"values"==E&&N&&"values"!==N.name&&(I=!0,A=function(){return N.call(this)}),l&&!T||b[f]===A||c(b,f,A),d[e]=A,E)if(S={values:O("values"),keys:_?A:O("keys"),entries:O("entries")},T)for(y in S)!v&&!I&&y in b||u(b,y,S[y]);else r({target:e,proto:!0,forced:v||I},S);return S}},function(t,e,n){"use strict";var r,o,i,s=n(41),a=n(7),c=n(9),u=n(20),l=n(1)("iterator"),f=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(r=o):f=!0),null==r&&(r={}),u||c(r,l)||a(r,l,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(t,e,n){var r=n(97);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n,o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e,n){var r=n(8),o=n(24),i=n(1)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[i])?e:o(n)}},function(t,e,n){var r,o,i,s=n(0),a=n(12),c=n(23),u=n(55),l=n(37),f=s.setImmediate,d=s.clearImmediate,p=s.process,h=s.MessageChannel,v=s.Dispatch,g=0,E={},_=function(){var t=+this;if(E.hasOwnProperty(t)){var e=E[t];delete E[t],e()}},T=function(t){_.call(t.data)};f&&d||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return E[++g]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(g),g},d=function(t){delete E[t]},"process"==a(p)?r=function(t){p.nextTick(c(_,t,1))}:v&&v.now?r=function(t){v.now(c(_,t,1))}:h?(i=(o=new h).port2,o.port1.onmessage=T,r=c(i.postMessage,i,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(r=function(t){s.postMessage(t+"","*")},s.addEventListener("message",T,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),_.call(t)}}:function(t){setTimeout(c(_,t,1),0)}),t.exports={set:f,clear:d}},function(t,e,n){var r=n(0).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(8),o=n(10),i=n(16);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=r.__importStar(n(4)),i=r.__importStar(n(5)),s=n(65),a=n(3),c=n(67),u=function t(e){var n=this&&this instanceof t?this.constructor:void 0,r=this;if(!n)throw new Error("ConnectInstaller() must be called with new");var u,l={},f=[],d=0,p=!1,h=[];if(o.isNullOrUndefinedOrEmpty(e)&&(e={}),o.isNullOrUndefinedOrEmpty(o.getLocalStorage("aspera-install-attempted"))&&o.setLocalStorage("aspera-install-attempted","true"),o.isNullOrUndefinedOrEmpty(o.getLocalStorage("aspera-last-detected"))&&o.setLocalStorage("aspera-last-detected",""),l.iframeId=e.iframeId||"aspera-iframe-container",l.oneClick=!1!==e.oneClick,l.useFips=!0===e.useFips,l.sdkLocation=o.isNullOrUndefinedOrEmpty(e.sdkLocation)?"//d3gcli72yxqn2z.cloudfront.net/connect/v4":o.getFullURI(e.sdkLocation),l.stylesheetLocation=o.getFullURI(e.stylesheetLocation),l.correlationId=e.correlationId,l.style="none"===e.style?"none":"carbon","undefined"!=typeof Storage){var v=o.getLocalStorage("aspera-connect-install-style");v&&(l.style=v)}"carbon"===l.style&&(t.supportsInstallingExtensions=!0);var g=function(){var t="";if(/Win/.test(navigator.platform)?t=navigator.userAgent.match(/Windows NT (\d+)[._](\d+)/):/Mac/.test(navigator.platform)&&(t=navigator.userAgent.match(/OS X (\d+)[._](\d+)/)),!o.isNullOrUndefinedOrEmpty(t))return{highWord:parseFloat(t[1]),loWord:parseFloat(t[2])}},E=function(t){if(!o.isNullOrUndefinedOrEmpty(t)){var e=t.match(/(\d+)[.](\d+)/);if(o.isNullOrUndefinedOrEmpty(e))return;return{highWord:parseFloat(e[1]),loWord:parseFloat(e[2])}}return t},_=function(t){for(var e=0;e<f.length;e++)f[e](t)},T=function(t){var e=document.createElement("style");e.setAttribute("type","text/css"),e.styleSheet?e.styleSheet.cssText=t:e.innerHTML=t,document.body.appendChild(e)};this.addEventListener=function(t){"function"==typeof t&&f.push(t)},this.addActivityListener=function(t,e){"function"==typeof e&&t===a.EVENT_TYPE.CONNECT_BAR_EVENT&&h.push(e)},this.installationJSON=function(t){var e=this;if("function"==typeof t)if(void 0===u){var n=l.sdkLocation,r=function(n){for(var r=window.connectVersions.entries,i=function(e){!function(t,e){for(var n=0;n<e.links.length;n++){var r=e.links[n].href;/^https?:\/\//i.test(r)||/^\/\//.test(r)||(e.links[n].hrefAbsolute=t+"/"+r)}}(n,e),u=e,t(e)},s=function(){var t="Not supported";if(/Win/.test(navigator.platform))t=-1!==navigator.userAgent.indexOf("WOW64")||-1!==navigator.userAgent.indexOf("Win64")?"Win64":"Win32";else{if(/CrOS/.test(navigator.userAgent))return t;/Mac OS X 10[._]6/.test(navigator.userAgent)?t="MacIntel-10.6-legacy":/Mac/.test(navigator.platform)?t="MacIntel":/Linux x86_64/.test(navigator.platform)?t="Linux x86_64":/Linux/.test(navigator.platform)&&(t="Linux i686")}return t}(),a=0;a<r.length;a++){var c=r[a];if(c.navigator.platform===s){var l=g(),f=E(c.platform.version);if(o.isNullOrUndefinedOrEmpty(f)||o.isNullOrUndefinedOrEmpty(l))return void i(c);if(l.highWord>f.highWord||l.highWord>=f.highWord&&l.loWord>=f.loWord)return void i(c)}}e.showUnsupportedBrowser()};!function(t,e,n){if(null!=t&&t instanceof Array){var r=0,o=document.getElementsByTagName("head")[0]||document.documentElement,i=function(t){var i,s=!1;if("js"===e.toLowerCase())(i=document.createElement("script")).setAttribute("type","text/javascript"),i.setAttribute("src",t);else{if("css"!==e.toLowerCase())return;(i=document.createElement("link")).setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t)}i.onload=i.onreadystatechange=function(){s||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(s=!1,i.onload=i.onreadystatechange=null,o&&i.parentNode&&o.removeChild(i),--r<=0&&n(!0))},i.onerror=function(){n(!1)},o.insertBefore(i,o.firstChild)};r=t.length;for(var s=0;s<r;s++)"string"==typeof t[s]&&i(t[s])}}([n+"/connectversions.min.js"],"js",function(t){var e="//d3gcli72yxqn2z.cloudfront.net/connect/v4";t&&void 0!==window.connectVersions?r(n):n!==e&&(n=e)})}else t(u)},this.isExtensionInstalled=function(t,e){var n=o.BROWSER.SAFARI_NO_NPAPI?new s.SafariAppStrategy:new s.NativeHostStrategy;if(o.BROWSER.CHROME||o.BROWSER.EDGE_WITH_EXTENSION||o.BROWSER.FIREFOX||o.BROWSER.SAFARI_NO_NPAPI)return e?void n.detectExtension(t).then(function(t){t&&"function"==typeof e.success&&e.success(),t||"function"!=typeof e.timedout||e.timedout()}).catch(function(t){i.debug("Error trying to detect extension:",t),"function"==typeof e.timedout&&e.timedout()}):n.detectExtension(t);i.debug("This browser does not use extensions.")},this.doesBrowserNeedExtensionStore=function(){return!0===o.BROWSER.CHROME||!0===o.BROWSER.FIREFOX||!0===o.BROWSER.EDGE_WITH_EXTENSION},this.getExtensionStoreLink=function(){return!0===o.BROWSER.FIREFOX?"https://addons.mozilla.org/en-US/firefox/addon/ibm-aspera-connect":!0===o.BROWSER.EDGE_WITH_EXTENSION?"ms-windows-store://pdp/?productid=9N6XL57H8BMG":!0===o.BROWSER.EDGE_CHROMIUM?"https://microsoftedge.microsoft.com/addons/detail/ibm-aspera-connect/kbffkbiljjejklcpnfmoiaehplhcifki":!0===o.BROWSER.CHROME?"https://chrome.google.com/webstore/detail/ibm-aspera-connect/kpoecbkildamnnchnlgoboipnblgikpn":(i.debug("This browser does not use extensions."),"")},this.startExtensionInstall=function(){var t=this.getExtensionStoreLink();""!==t&&window.open(t,"_blank")};var m=function(){var t=!1;try{t=window.self!==window.top}catch(e){t=!0}var e=window;if(t){var n=document.getElementById(l.iframeId);n.contentWindow&&(e=n.contentWindow)}return e},S=function(t){var e=document.getElementById(l.iframeId);e&&(e.style.display=t?"none":"",e.style.visibility=t?"hidden":"")},y=function(t){0!==d&&clearTimeout(d);var e=document.getElementById(l.iframeId);void 0===String.prototype.endsWith&&(String.prototype.endsWith=function(t){return-1!==this.indexOf(t,this.length-t.length)});var n=function(t){var n;(function(t){for(var e in a.ACTIVITY_EVENT)if(a.ACTIVITY_EVENT[e]===t)return!0;return!1})(t.data)&&(i.debug("Connect bar activity: ",t.data),function(t){for(var e=0;e<h.length;e++)h[e](t)}(t.data),t.data===a.ACTIVITY_EVENT.CLICKED_DOWNLOAD_APP?o.setLocalStorage("aspera-connect-app-download",Date.now().toString()):t.data===a.ACTIVITY_EVENT.CLICKED_INSTALL_APP?(o.BROWSER.SAFARI||o.BROWSER.IE)&&r.showExtensionInstall():t.data===a.ACTIVITY_EVENT.CLICKED_RETRY&&(n=window.top.location.href,window.open(n,"_blank"))),t.data===a.INSTALL_EVENT.DOWNLOAD_CONNECT?(_(t.data),r.showInstall()):t.data===a.INSTALL_EVENT.DOWNLOAD_EXTENSION?(_(t.data),r.showDownload()):t.data===a.INSTALL_EVENT.REFRESH_PAGE?(_(t.data),m().location.reload(!0)):t.data===a.INSTALL_EVENT.IFRAME_REMOVED?(_(t.data),r.dismiss()):t.data===a.INSTALL_EVENT.TROUBLESHOOT?(_(t.data),m().location.href="https://test-connect.asperasoft.com"):t.data===a.INSTALL_EVENT.CONTINUE?(o.addVersionException(),_(t.data),o.BROWSER.SAFARI&&!o.BROWSER.SAFARI_NO_NPAPI||o.BROWSER.IE?m().location.reload(!0):r.showLaunching()):t.data===a.INSTALL_EVENT.RETRY?(_(t.data),r.showLaunching()):"100%"===t.data?e.setAttribute("style","height:100%;width:100%;max-width: 100%;margin: 0 auto;background-color:rgba(223, 227, 230, 0.75);"):"string"==typeof t.data&&t.data.endsWith(a.INSTALL_EVENT.RESIZE)?(e.style.height=t.data,e.style.maxWidth="600px"):t.data===a.INSTALL_EVENT.EXTENSION_INSTALL&&(_(t.data),r.startExtensionInstall())},s=function(){p=!0,_(a.INSTALL_EVENT.IFRAME_LOADED);var e=document.getElementById(l.iframeId);if(o.BROWSER.SAFARI||o.BROWSER.IE){var n=o.getLocalStorage("aspera-connect-app-download");o.isNullOrUndefinedOrEmpty(n)||e.contentWindow.postMessage("downloadTimestamp="+n,"*")}r.installationJSON(function(n){if(n)for(var r=0;r<n.links.length;r++){var o=n.links[r],s=l.oneClick?"enclosure-one-click":"enclosure";l.useFips&&/Win/.test(navigator.platform)&&(s+="-fips"),o.rel===s&&null!=e&&(e.contentWindow.postMessage("downloadlink="+o.hrefAbsolute,"*"),e.contentWindow.postMessage("downloadVersion="+n.version,"*"))}else i.error("Could not load Connect installation json!");e.contentWindow.postMessage(t,"*")}),l.stylesheetLocation&&null!=e&&e.contentWindow.postMessage("insertstylesheet="+l.stylesheetLocation,"*"),l.correlationId&&e.contentWindow.postMessage("correlationId="+l.correlationId,"*"),c.__VERSION__&&e.contentWindow.postMessage("sdkVersion="+c.__VERSION__,"*"),_(a.INSTALL_EVENT.IFRAME_LOADED)};if(!e){if("none"===l.style)return void i.debug("style=none specified, will not load banner.");if("carbon"===l.style?T("."+l.iframeId+"{width: 100%;max-width: 600px;height: 80px;margin: 0 auto;position: fixed;top: 0;right: 0;left: 0;z-index: 9999;box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.1)}"):"blue"===l.style&&T("."+l.iframeId+"{position: absolute;width: 100%;height: 80px;margin: 0px;padding: 0px;border: none;outline: none;overflow: hidden;top: 0px;left: 0px;z-index: 999999999}"),(e=document.createElement("iframe")).id=l.iframeId,e.className=l.iframeId,e.frameBorder="0","carbon"===l.style?e.src=l.sdkLocation+"/install/carbon-installer/index.html":"blue"===l.style&&(e.src=l.sdkLocation+"/install/auto-topbar/index.html"),document.body.appendChild(e),!e.contentWindow.postMessage)return;window.attachEvent?window.attachEvent("onmessage",n):window.addEventListener("message",n,!1)}S(!1),p?e.contentWindow.postMessage(t,"*"):e.attachEvent?e.attachEvent("onload",s):e.onload=s};window.addEventListener("message",function(t){"show_extension_install"===t.data?r.showExtensionInstall():"show_safari_mitigate"===t.data&&y("safari_mitigate")},!1),this.showLaunching=function(t){void 0===t&&(t=3500),0!==d&&clearTimeout(d),d=setTimeout(function(){y("launching")},t)},this.showDownload=function(){y("download")},this.showInstall=function(){y("install"),o.setLocalStorage("aspera-install-attempted","true")},this.showUpdate=function(){y("update")},this.showRetry=function(){y("retry")},this.showExtensionInstall=function(){if(y("extension_install"),!o.BROWSER.IE){var t=document.createElement("div");t.className="aspera-connect-ext-locator",t.style.display="none",document.body.appendChild(t)}},this.showPrevious=function(){y("previous")},this.showUnsupportedBrowser=function(){y("unsupported_browser")},this.connected=function(t){void 0===t&&(t=2e3),clearTimeout(d),null!=document.getElementById(l.iframeId)&&(y("running"),setTimeout(r.dismiss,t),o.setLocalStorage("aspera-last-detected",String(Date.now().toString())))},this.dismiss=function(){0!==d&&clearTimeout(d),S(!0)}};e.ConnectInstaller=u,u.EVENT=a.INSTALL_EVENT,u.ACTIVITY_EVENT=a.ACTIVITY_EVENT,u.EVENT_TYPE=a.EVENT_TYPE,u.supportsInstallingExtensions=!1},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=r.__importDefault(n(124));e.NativeHostStrategy=o.default;var i=r.__importDefault(n(125));e.SafariAppStrategy=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n(3),i=n(5),s=function(t){var e=this;this.outstandingRequests={},this.connectStatus=o.STATUS.INITIALIZING,this.defaultDialogTimeout=864e5,this.changeConnectStatus=function(t){e.connectStatus!==t&&(e.connectStatus=t,e.options.requestStatusCallback(t))},this.httpRequest=function(t,n){var o=r.generatePromiseData();(t.path.indexOf("/v5/")>-1||t.path.indexOf("/v6/")>-1)&&(t.path=t.path.replace("/v5","").replace("/v6","")),r.isNullOrUndefinedOrEmpty(t.body)&&(t.body="");var s={request_id:n,min_version:e.options.minVersion||"",method:t.method,uri_reference:t.path,body:t.body};return/select/i.test(t.path)&&(e.options.extensionRequestTimeout?s.timeout=e.options.extensionRequestTimeout:s.timeout=e.defaultDialogTimeout),i.debug(s),e.outstandingRequests[n]={req:s,response:"",resolve:o.resolver},document.dispatchEvent(new CustomEvent("AsperaConnectRequest",{detail:s})),o.promise},this.options=t};e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__VERSION__="3.11.2"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4);e.validateAuthSpec=function(t){i(t),o(t,"authSpec",["remote_host"])},e.validateBufferOptions=function(t){i(t),o(t,"#readChunkAsArrayBuffer options",["path","offset","chunkSize"])},e.validateChecksumOptions=function(t){i(t),o(t,"#getChecksum options",["path"]);var e=t.body;e&&e.checksumMethod&&-1===["md5","sha1","sha256","sha512"].indexOf(e.checksumMethod)&&s(e.checksumMethod+" is not a supported checksum method")},e.validateMethod=function(t){if(!t.method)throw new Error("Request is missing property: method")},e.validateName=function(t){if(!t.name)throw new Error("Request is missing property: name")},e.validateArrayBufferOptions=function(t){i(t),o(t,"#readAsArrayBuffer options",["path"])},e.validateTransferId=function(t){var e=t.param;r.isNullOrUndefinedOrEmpty(e)&&s("Must provide transfer id.")};var o=function(t,e,n){n.forEach(function(n){r.isNullOrUndefinedOrEmpty(t.body[n])&&s("Invalid "+e+" parameter: "+n+" is missing or invalid")})},i=function(t){!function(t,e){var n=t.body;r.isNullOrUndefinedOrEmpty(n)&&s("Must provide options parameter.")}(t)},s=function(t){var e=new Error(t);throw e.name="ValidationError",e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(70),n(80),n(89);var r=n(4),o=n(121);e.Connect=o.default;var i=n(64);e.ConnectInstaller=i.ConnectInstaller;var s=n(67);e.__VERSION__=s.__VERSION__;var a=n(5);e.Utils={atou:r.atou,getFullURI:r.getFullURI,launchConnect:r.launchConnect,utoa:r.utoa,BROWSER:r.BROWSER},e.Logger={debug:a.debug,error:a.error,log:a.log,setLevel:a.setLevel,trace:a.trace,warn:a.warn};var c={};e.LocalizeDirlist=c;var u=window;u.AW4&&u.AW4.LocalizeDirlist&&(e.LocalizeDirlist=c=u.AW4.LocalizeDirlist)},function(t,e,n){t.exports=n(71)},function(t,e,n){n(72),t.exports=n(22).Object.assign},function(t,e,n){var r=n(73);n(6)({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(t,e,n){"use strict";var r=n(45),o=n(47),i=n(48),s=n(34),a=n(28),c=Object.assign;t.exports=!c||n(11)(function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||"abcdefghijklmnopqrst"!=r(c({},e)).join("")})?function(t,e){for(var n=s(t),c=arguments.length,u=1,l=o.f,f=i.f;c>u;)for(var d,p=a(arguments[u++]),h=l?r(p).concat(l(p)):r(p),v=h.length,g=0;v>g;)f.call(p,d=h[g++])&&(n[d]=p[d]);return n}:c},function(t,e,n){var r=n(17),o=n(30),i=n(75);t.exports=function(t){return function(e,n,s){var a,c=r(e),u=o(c.length),l=i(s,u);if(t&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(31),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e,n){var r=n(51),o=n(0).WeakMap;t.exports="function"==typeof o&&/native code/.test(r.call(o))},function(t,e,n){var r=n(9),o=n(78),i=n(35),s=n(14);t.exports=function(t,e){for(var n=o(e),a=s.f,c=i.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||a(t,l,c(e,l))}}},function(t,e,n){var r=n(79),o=n(47),i=n(8),s=n(0).Reflect;t.exports=s&&s.ownKeys||function(t){var e=r.f(i(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(46),o=n(33).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){t.exports=n(81)},function(t,e,n){n(82),t.exports=n(88)("Array","find")},function(t,e,n){"use strict";var r=n(83)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),n(6)({target:"Array",proto:!0,forced:o},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(54)("find")},function(t,e,n){var r=n(23),o=n(28),i=n(34),s=n(30),a=n(84);t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,f=6==t,d=5==t||f,p=e||a;return function(e,a,h){for(var v,g,E=i(e),_=o(E),T=r(a,h,3),m=s(_.length),S=0,y=n?p(e,m):c?p(e,0):void 0;m>S;S++)if((d||S in _)&&(g=T(v=_[S],S,E),t))if(n)y[S]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return S;case 2:y.push(v)}else if(l)return!1;return f?-1:u||l?l:y}}},function(t,e,n){var r=n(10),o=n(85),i=n(1)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(12);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){t.exports=!n(11)(function(){return!String(Symbol())})},function(t,e,n){var r=n(13),o=n(14),i=n(8),s=n(45);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=s(e),a=r.length,c=0;a>c;)o.f(t,n=r[c++],e[n]);return t}},function(t,e,n){var r=n(0),o=n(23),i=Function.call;t.exports=function(t,e,n){return o(i,r[t].prototype[e],n)}},function(t,e,n){t.exports=n(90),n(112),n(113),n(114),n(115)},function(t,e,n){n(91),n(93),n(98),n(101),n(111),t.exports=n(22).Promise},function(t,e,n){var r=n(92),o=Object.prototype;r!==o.toString&&n(18)(o,"toString",r,{unsafe:!0})},function(t,e,n){"use strict";var r=n(56),o={};o[n(1)("toStringTag")]="z",t.exports="[object z]"!==String(o)?function(){return"[object "+r(this)+"]"}:o.toString},function(t,e,n){"use strict";var r=n(94),o=n(21),i=n(57),s=o.set,a=o.getterFor("String Iterator");i(String,"String",function(t){s(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=a(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o,!0),e.index+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(31),o=n(29);t.exports=function(t,e,n){var i,s,a=String(o(t)),c=r(e),u=a.length;return c<0||c>=u?n?"":void 0:(i=a.charCodeAt(c))<55296||i>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?n?a.charAt(c):i:n?a.slice(c,c+2):s-56320+(i-55296<<10)+65536}},function(t,e,n){"use strict";var r=n(58).IteratorPrototype,o=n(40),i=n(36),s=n(42),a=n(15),c=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),s(t,u,!1,!0),a[u]=c,t}},function(t,e,n){t.exports=!n(11)(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,n){var r=n(10),o=n(8);t.exports=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}},function(t,e,n){var r=n(99),o=n(100),i=n(0),s=n(7),a=n(1),c=a("iterator"),u=a("toStringTag"),l=o.values;for(var f in r){var d=i[f],p=d&&d.prototype;if(p){if(p[c]!==l)try{s(p,c,l)}catch(t){p[c]=l}if(p[u]||s(p,u,f),r[f])for(var h in o)if(p[h]!==o[h])try{s(p,h,o[h])}catch(t){p[h]=o[h]}}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";var r=n(17),o=n(54),i=n(15),s=n(21),a=n(57),c=s.set,u=s.getterFor("Array Iterator");t.exports=a(Array,"Array",function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){"use strict";var r,o,i,s="Promise",a=n(20),c=n(0),u=n(6),l=n(10),f=n(24),d=n(102),p=n(12),h=n(25),v=n(106),g=n(60),E=n(61).set,_=n(107),T=n(63),m=n(108),S=n(16),y=n(26),O=n(62),w=n(1)("species"),I=n(21),b=n(53),N=I.get,A=I.set,R=I.getterFor(s),x=c.Promise,P=c.TypeError,L=c.document,D=c.process,C=c.fetch,M=D&&D.versions,U=M&&M.v8||"",k=S.f,j=k,V="process"==p(D),q=!!(L&&L.createEvent&&c.dispatchEvent),F=b(s,function(){var t=x.resolve(1),e=function(){},n=(t.constructor={})[w]=function(t){t(e,e)};return!((V||"function"==typeof PromiseRejectionEvent)&&(!a||t.finally)&&t.then(e)instanceof n&&0!==U.indexOf("6.6")&&-1===O.indexOf("Chrome/66"))}),H=F||!v(function(t){x.all(t).catch(function(){})}),G=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},W=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;_(function(){for(var o=e.value,i=1==e.state,s=0,a=function(n){var r,s,a,c=i?n.ok:n.fail,u=n.resolve,l=n.reject,f=n.domain;try{c?(i||(2===e.rejection&&z(t,e),e.rejection=1),!0===c?r=o:(f&&f.enter(),r=c(o),f&&(f.exit(),a=!0)),r===n.promise?l(P("Promise-chain cycle")):(s=G(r))?s.call(r,u,l):u(r)):l(o)}catch(t){f&&!a&&f.exit(),l(t)}};r.length>s;)a(r[s++]);e.reactions=[],e.notified=!1,n&&!e.rejection&&X(t,e)})}},B=function(t,e,n){var r,o;q?((r=L.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},(o=c["on"+t])?o(r):"unhandledrejection"===t&&m("Unhandled promise rejection",n)},X=function(t,e){E.call(c,function(){var n,r=e.value;if(Y(e)&&(n=y(function(){V?D.emit("unhandledRejection",r,t):B("unhandledrejection",t,r)}),e.rejection=V||Y(e)?2:1,n.error))throw n.value})},Y=function(t){return 1!==t.rejection&&!t.parent},z=function(t,e){E.call(c,function(){V?D.emit("rejectionHandled",t):B("rejectionhandled",t,e.value)})},K=function(t,e,n,r){return function(o){t(e,n,o,r)}},J=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,W(t,e,!0))},Z=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw P("Promise can't be resolved itself");var o=G(n);o?_(function(){var r={done:!1};try{o.call(n,K(Z,t,r,e),K(J,t,r,e))}catch(n){J(t,r,n,e)}}):(e.value=n,e.state=1,W(t,e,!1))}catch(n){J(t,{done:!1},n,e)}}};F&&(x=function(t){d(this,x,s),f(t),r.call(this);var e=N(this);try{t(K(Z,this,e),K(J,this,e))}catch(t){J(this,e,t)}},(r=function(t){A(this,{type:s,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=n(109)(x.prototype,{then:function(t,e){var n=R(this),r=k(g(this,x));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=V?D.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&W(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=N(t);this.promise=t,this.resolve=K(Z,t,e),this.reject=K(J,t,e)},S.f=k=function(t){return t===x||t===i?new o(t):j(t)},a||"function"!=typeof C||u({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return T(x,C.apply(c,arguments))}})),u({global:!0,wrap:!0,forced:F},{Promise:x}),n(42)(x,s,!1,!0),n(110)(s),i=n(22).Promise,u({target:s,stat:!0,forced:F},{reject:function(t){var e=k(this);return e.reject.call(void 0,t),e.promise}}),u({target:s,stat:!0,forced:a||F},{resolve:function(t){return T(a&&this===i?x:this,t)}}),u({target:s,stat:!0,forced:H},{all:function(t){var e=this,n=k(e),r=n.resolve,o=n.reject,i=y(function(){var n=[],i=0,s=1;h(t,function(t){var a=i++,c=!1;n.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,n[a]=t,--s||r(n))},o)}),--s||r(n)});return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=k(e),r=n.reject,o=y(function(){h(t,function(t){e.resolve(t).then(n.resolve,r)})});return o.error&&r(o.value),n.promise}})},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(15),o=n(1)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(56),o=n(1)("iterator"),i=n(15);t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(8);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(1)("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[r]=function(){return this},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){var r,o,i,s,a,c,u,l=n(0),f=n(35).f,d=n(12),p=n(61).set,h=n(62),v=l.MutationObserver||l.WebKitMutationObserver,g=l.process,E=l.Promise,_="process"==d(g),T=f(l,"queueMicrotask"),m=T&&T.value;m||(r=function(){var t,e;for(_&&(t=g.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?s():i=void 0,t}}i=void 0,t&&t.enter()},_?s=function(){g.nextTick(r)}:v&&!/(iPhone|iPod|iPad).*AppleWebKit/i.test(h)?(a=!0,c=document.createTextNode(""),new v(r).observe(c,{characterData:!0}),s=function(){c.data=a=!a}):E&&E.resolve?(u=E.resolve(void 0),s=function(){u.then(r)}):s=function(){p.call(l,r)}),t.exports=m||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,s()),i=e}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e,n){var r=n(18);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){"use strict";var r=n(43),o=n(14),i=n(13),s=n(1)("species");t.exports=function(t){var e=r(t),n=o.f;i&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(43),o=n(60),i=n(63);n(6)({target:"Promise",proto:!0,real:!0},{finally:function(t){var e=o(this,r("Promise")),n="function"==typeof t;return this.then(n?function(n){return i(e,t()).then(function(){return n})}:t,n?function(n){return i(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){var r=n(41),o=n(59),i=n(40),s=n(25),a=n(7),c=function(t,e){var n=this;if(!(n instanceof c))return new c(t,e);o&&(n=o(new Error(e),r(n)));var i=[];return s(t,i.push,i),n.errors=i,void 0!==e&&a(n,"message",String(e)),n};c.prototype=i(Error.prototype,{constructor:{value:c,configurable:!0,writable:!0},name:{value:"AggregateError",configurable:!0,writable:!0}}),n(6)({global:!0},{AggregateError:c})},function(t,e,n){"use strict";var r=n(16),o=n(26),i=n(25);n(6)({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=r.f(e),s=n.resolve,a=n.reject,c=o(function(){var n=[],r=0,o=1;i(t,function(t){var i=r++,a=!1;n.push(void 0),o++,e.resolve(t).then(function(t){a||(a=!0,n[i]={status:"fulfilled",value:t},--o||s(n))},function(t){a||(a=!0,n[i]={status:"rejected",reason:t},--o||s(n))})}),--o||s(n)});return c.error&&a(c.value),n.promise}})},function(t,e,n){"use strict";var r=n(16),o=n(26);n(6)({target:"Promise",stat:!0},{try:function(t){var e=r.f(this),n=o(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}})},function(t,e,n){"use strict";var r=n(43),o=n(16),i=n(26),s=n(25);n(6)({target:"Promise",stat:!0},{any:function(t){var e=this,n=o.f(e),a=n.resolve,c=n.reject,u=i(function(){var n=[],o=0,i=1,u=!1;s(t,function(t){var s=o++,l=!1;n.push(void 0),i++,e.resolve(t).then(function(t){l||u||(u=!0,a(t))},function(t){l||u||(l=!0,n[s]=t,--i||c(new(r("AggregateError"))(n,"No one promise resolved")))})}),--i||c(new(r("AggregateError"))(n,"No one promise resolved"))});return u.error&&c(u.value),n.promise}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_PORT=33003,e.LOCALHOST="http://127.0.0.1:",e.MAX_PORT_SEARCH=20,e.MAX_POLLING_ERRORS=3,e.VERSION_PREFIX="/v6",e.SESSION_LASTKNOWN_ID="aspera-last-known-session-id",e.SESSION_LASTKNOWN_KEY="aspera-last-known-session-key",e.SESSION_LASTKNOWN_PORT="aspera-last-known-port"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INSTALL_EVENT={DOWNLOAD_CONNECT:"downloadconnect",REFRESH_PAGE:"refresh",IFRAME_REMOVED:"removeiframe",IFRAME_LOADED:"iframeloaded",TROUBLESHOOT:"troubleshoot",CONTINUE:"continue",RESIZE:"px",RETRY:"retry",EXTENSION_INSTALL:"extension_install",DOWNLOAD_EXTENSION:"download_extension"},e.ACTIVITY_EVENT={CONNECT_BAR_VISIBLE:"connect_bar_visible",CLICKED_INSTALL_EXTENSION:"clicked_install_extension",CLICKED_ENABLE_EXTENSION:"clicked_enable_extension",CLICKED_INSTALL_ADDON:"clicked_install_addon",CLICKED_DOWNLOAD_APP:"clicked_download_app",CLICKED_INSTALL_APP:"clicked_install_app",CLICKED_TROUBLESHOOT:"clicked_troubleshoot",CLICKED_DOWNLOAD_INDICATOR:"clicked_download_indicator",DOWNLOAD_INDICATOR_VISIBLE:"download_indicator_visible",CLICKED_HOW_LINK:"clicked_how_link",CONNECT_BAR_REMOVED:"connect_bar_removed",CLICKED_RETRY:"mitigate_with_tab"},e.EVENT_TYPE={CONNECT_BAR_EVENT:"connect_bar_event"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LS_CONTINUED_KEY="connect-version-continued",e.LS_CONNECT_APP_ID="connect-app-id",e.LS_LOG_KEY="aspera-log-level",e.LS_CONNECT_DETECTED="aspera-last-detected"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MIN_SECURE_VERSION="3.8.0",e.HTTP_METHOD={GET:"GET",POST:"POST",DELETE:"DELETE",REVERT:"REVERT"},e.STATUS={INITIALIZING:"INITIALIZING",RETRYING:"RETRYING",RUNNING:"RUNNING",OUTDATED:"OUTDATED",FAILED:"FAILED",EXTENSION_INSTALL:"EXTENSION_INSTALL",STOPPED:"STOPPED",WAITING:"WAITING",DEGRADED:"DEGRADED"},e.EVENT={ALL:"all",TRANSFER:"transfer",STATUS:"status"},e.TRANSFER_STATUS={CANCELLED:"cancelled",COMPLETED:"completed",FAILED:"failed",INITIATING:"initiating",QUEUED:"queued",REMOVED:"removed",RUNNING:"running",WILLRETRY:"willretry"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.apiEndpoints={activity:{route:"activity",prefix:"/connect/transfers/"},authenticate:{route:"authenticate",prefix:"/connect/info/"},droppedFiles:{route:"dropped-files",prefix:"/connect/file/"},getTransfer:{route:"info/${id}",prefix:"/connect/transfers/"},initDragDrop:{route:"initialize-drag-drop",prefix:"/connect/file/"},modifyTransfer:{route:"modify/${id}",prefix:"/connect/transfers/"},ping:{route:"ping",prefix:"/connect/info/"},readAsArrayBuffer:{route:"read-as-array-buffer/",prefix:"/connect/file/"},readChunkAsArrayBuffer:{route:"read-chunk-as-array-buffer/",prefix:"/connect/file/"},getChecksum:{route:"checksum/",prefix:"/connect/file/"},removeTransfer:{route:"remove/${id}",prefix:"/connect/transfers/"},resumeTransfer:{route:"resume/${id}",prefix:"/connect/transfers/"},showAbout:{route:"about",prefix:"/connect/windows/"},showDirectory:{route:"finder/${id}",prefix:"/connect/windows/"},showPreferences:{route:"preferences",prefix:"/connect/windows/"},showPreferencesPage:{route:"preferences/${id}",prefix:"/connect/windows/"},showSaveFileDialog:{route:"select-save-file-dialog/",prefix:"/connect/windows/"},showSelectFileDialog:{route:"select-open-file-dialog/",prefix:"/connect/windows/"},showSelectFolderDialog:{route:"select-open-folder-dialog/",prefix:"/connect/windows/"},showTransferManager:{route:"transfer-manager",prefix:"/connect/windows/"},showTransferMonitor:{route:"transfer-monitor/${id}",prefix:"/connect/windows/"},startTransfer:{route:"start",prefix:"/connect/transfers/"},stopTransfer:{route:"stop/${id}",prefix:"/connect/transfers/"},testSshPorts:{route:"ports",prefix:"/connect/info/"},version:{route:"version",prefix:"/connect/info/"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=r.__importStar(n(4)),i=r.__importStar(n(5)),s=r.__importDefault(n(122)),a=n(3),c=r.__importDefault(n(130)),u=r.__importDefault(n(131)),l=n(68),f=n(44),d=function t(e){if(!(this&&this instanceof t?this.constructor:void 0))throw new Error("Connect() must be called with new");o.isNullOrUndefinedOrEmpty(e)&&(e={});var n=e.connectLaunchWaitTimeoutMs||5e3,r=e.id||"aspera-web",d=e.containerId||"aspera-web-container",p="",h=e.authorizationKey||"",v=e.pollingTime||2e3,g=e.minVersion||"",E=e.connectMethod||"",_=e.dragDropEnabled||!1,T=e.maxActivityOutstanding||2,m=o.getFullURI(e.sdkLocation)||"//d3gcli72yxqn2z.cloudfront.net/connect/v4",S=e.extensionRequestTimeout;if("undefined"!=typeof Storage){var y=o.getLocalStorage("aspera-connect-method");y&&(E=y);var O=o.getLocalStorage("aspera-min-version");O&&(g=O)}g&&(f.ConnectGlobals.minVersion=g);var w=[],I=0,b=0,N=[],A=a.STATUS.INITIALIZING,R=o.nextObjectId(),x=0,P=!1,L=new s.default({id:r,containerId:d,connectLaunchWaitTimeoutMs:n,sdkLocation:m,connectMethod:E,minVersion:g,extensionRequestTimeout:S,objectId:R,statusListener:function(t){if(t===a.STATUS.INITIALIZING)V(a.STATUS.INITIALIZING);else if(t===a.STATUS.RETRYING)V(a.STATUS.RETRYING);else if(t===a.STATUS.FAILED)V(a.STATUS.FAILED);else if(t===a.STATUS.EXTENSION_INSTALL)V(a.STATUS.EXTENSION_INSTALL);else if(t===a.STATUS.WAITING);else if(t===a.STATUS.OUTDATED)A!==a.STATUS.OUTDATED&&V(a.STATUS.OUTDATED);else{if(t===a.STATUS.DEGRADED)return;i.debug("Resetting max activity outstanding."),x=0,V(a.STATUS.RUNNING)}!function(t){for(var e=0;e<N.length;e++)N[e](a.EVENT.STATUS,t)}(A)}}),D=new c.default(L);function C(t){return 0!==h.length&&(t.authorization_key=h),o.isNullOrUndefinedOrEmpty(t.aspera_connect_settings)&&(t.aspera_connect_settings={}),t.aspera_connect_settings.app_id=p,t}function M(){i.debug("Connect API is ready."),P=!0,_&&q((new u.default).setName("initDragDrop").setMethod(a.HTTP_METHOD.GET)).catch(function(){})}function U(t,e){var n={iteration_token:t},r=(new u.default).setName("activity").setMethod(a.HTTP_METHOD.POST).setBody(n);if(!e)return q(r);q(r,e)}function k(){x>=T?i.debug("Skipping activity request. Reached maximum number of outstanding polling requests."):(x++,U(b,{success:function(t){x--,function(t){b=t.iteration_token;for(var e=0;e<w.length;e++)w[e](a.EVENT.TRANSFER,t)}(t)},error:function(){x--}}))}function j(t,e){for(var n=!1,r=e.indexOf(t);r>-1;)e.splice(r,1),n=!0,r=e.indexOf(t);return n}function V(t){A!==t&&(i.debug("["+R+"] Connect status changing from["+A+"] to["+t+"]"),t===a.STATUS.RUNNING&&M(),A=t)}function q(t,e){if(P){if(!D)throw new Error("Must call #initSession before using the Connect API.")}else i.warn("Connect API is not yet available - wait for the running status event.");if(t.method===a.HTTP_METHOD.POST&&t.addSettings(C),!e)return t.send(D);t.send(D).then(function(t){"function"==typeof e.success&&e.success(t)}).catch(function(t){"function"==typeof e.error&&(i.debug("Calling error callback."),e.error(t))})}this.addEventListener=function(t,e){return typeof t!=typeof a.EVENT.ALL?o.createError(-1,"Invalid EVENT parameter"):"function"!=typeof e?o.createError(-1,"Invalid Listener parameter"):(t!==a.EVENT.TRANSFER&&t!==a.EVENT.ALL||(0===I&&(I=setInterval(k,v)),w.push(e)),void(t!==a.EVENT.STATUS&&t!==a.EVENT.ALL||N.push(e)))},this.authenticate=function(t,e){var n=(new u.default).setName("authenticate").setMethod(a.HTTP_METHOD.POST).setBody(t).setValidator(l.validateAuthSpec);if(!e)return q(n);q(n,e)},this.getAllTransfers=function(t,e){return void 0===e&&(e=0),U(e,t)},this.getStatus=function(){return A},this.getTransfer=function(t,e){var n=(new u.default).setName("getTransfer").setMethod(a.HTTP_METHOD.POST).setParam(t).setValidator(l.validateTransferId);if(!e)return q(n);q(n,e)},this.initSession=function(t){if(void 0===t&&(t=""),!o.isNullOrUndefinedOrEmpty(p))return o.createError(-1,"Session was already initialized.");if(o.isNullOrUndefinedOrEmpty(t)){var e=o.getLocalStorage(a.LS_CONNECT_APP_ID);e||(e=o.utoa(o.generateUuid())),p=e}else p=t;o.setLocalStorage(a.LS_CONNECT_APP_ID,p),o.entropyOk(p)||i.warn("WARNING: app_id field entropy might be too low.");var n=this.start();return n&&o.isError(n)?o.createError(-1,n):{app_id:p}},this.modifyTransfer=function(t,e,n){var r=(new u.default).setName("modifyTransfer").setMethod(a.HTTP_METHOD.POST).setParam(t).setBody(e).setValidator(l.validateTransferId);if(!n)return q(r);q(r,n)},this.readAsArrayBuffer=function(t,e){var n=(new u.default).setName("readAsArrayBuffer").setMethod(a.HTTP_METHOD.POST).setBody(t).setValidator(l.validateArrayBufferOptions);if(!e)return q(n);q(n,e)},this.readChunkAsArrayBuffer=function(t,e){var n=(new u.default).setName("readChunkAsArrayBuffer").setMethod(a.HTTP_METHOD.POST).setBody(t).setValidator(l.validateBufferOptions);if(!e)return q(n);q(n,e)},this.getChecksum=function(t,e){if(!t)throw new Error("#getChecksum options argument is either missing or incorrect");var n={path:t.path,offset:t.offset||0,chunkSize:t.chunkSize||0,checksumMethod:t.checksumMethod||"md5"},r=(new u.default).setName("getChecksum").setMethod(a.HTTP_METHOD.POST).setBody(n).setValidator(l.validateChecksumOptions);if(!e)return q(r);q(r,e)},this.removeEventListener=function(t,e){var n=!1;return void 0===t?(w.length>0&&(w=[],n=!0),N.length>0&&(N=[],n=!0)):typeof t!=typeof a.EVENT.ALL?n=(n=n||j(t,w))||j(t,N):"function"!=typeof e?(t!==a.EVENT.TRANSFER&&t!==a.EVENT.ALL||w.length>0&&(w=[],n=!0),t!==a.EVENT.STATUS&&t!==a.EVENT.ALL||N.length>0&&(N=[],n=!0)):(t!==a.EVENT.TRANSFER&&t!==a.EVENT.ALL||(n=n||j(e,w)),t!==a.EVENT.STATUS&&t!==a.EVENT.ALL||(n=n||j(e,N))),0===w.length&&(clearInterval(I),I=0),n},this.removeTransfer=function(t,e){var n=(new u.default).setName("removeTransfer").setMethod(a.HTTP_METHOD.POST).setParam(t).setValidator(l.validateTransferId);if(!e)return q(n);q(n,e)},this.resumeTransfer=function(t,e,n){var r=(new u.default).setName("resumeTransfer").setMethod(a.HTTP_METHOD.POST).setParam(t).setBody(e).setValidator(l.validateTransferId);if(!n)return q(r);q(r,n)},this.setDragDropTargets=function(t,e,n){if(!_)return o.createError(-1,"Drop is not enabled in the initialization options, please instantiate Connect again with the dragDropEnabled option set to true.");if("function"!=typeof n)return o.createError(-1,"You must provide a valid listener");if(o.isNullOrUndefinedOrEmpty(e))return o.createError(-1,"You must provide a valid options object");var r=document.querySelectorAll(t);if(0===r.length)return o.createError(-1,"No valid elements for the selector given");for(var i=function(t){e.allowPropagation||t.stopPropagation(),t.preventDefault(),n({event:t})},s=function(t){e.allowPropagation||t.stopPropagation(),t.preventDefault(),!0===e.dragOver&&n({event:t})},c=function(t){e.allowPropagation||t.stopPropagation(),t.preventDefault();var r=t.dataTransfer.files,o={dataTransfer:{}};o.dataTransfer.files=[];for(var i=0;i<r.length;i++){var s={lastModifiedDate:r[i].lastModifiedDate,name:r[i].name,size:r[i].size,type:r[i].type};o.dataTransfer.files.push(s)}q((new u.default).setName("droppedFiles").setMethod(a.HTTP_METHOD.POST).setBody(o),{success:function(e){n({event:t,files:e})}})},l=0;l<r.length;l++)!0===e.dragEnter&&r[l].addEventListener("dragenter",i),!0===e.dragLeave&&r[l].addEventListener("dragleave",i),!0!==e.dragOver&&!1===e.drop||r[l].addEventListener("dragover",s),!1!==e.drop&&r[l].addEventListener("drop",c)},this.showAbout=function(t){var e=(new u.default).setName("showAbout").setMethod(a.HTTP_METHOD.GET);if(!t)return q(e);q(e,t)},this.showDirectory=function(t,e){var n=(new u.default).setName("showDirectory").setMethod(a.HTTP_METHOD.GET).setParam(t).setValidator(l.validateTransferId);if(!e)return q(n);q(n,e)},this.showPreferences=function(t){var e=(new u.default).setName("showPreferences").setMethod(a.HTTP_METHOD.GET);if(!t)return q(e);q(e,t)},this.showPreferencesPage=function(t,e){if(!(t&&t.page&&["general","transfers","bandwidth","network","security"].indexOf(t.page)>-1))throw new Error("#showPreferencesPage options argument is either missing or incorrect.");var n=(new u.default).setName("showPreferencesPage").setMethod(a.HTTP_METHOD.GET).setParam(t.page);if(!e)return q(n);q(n,e)},this.showSaveFileDialog=function(t,e){var n={};o.isNullOrUndefinedOrEmpty(e)&&(e={}),n.title=e.title||"",n.suggestedName=e.suggestedName||"",n.allowedFileTypes=e.allowedFileTypes||"";var r=(new u.default).setName("showSaveFileDialog").setMethod(a.HTTP_METHOD.POST).setBody(n);if(!t)throw new Error("Must provide callbacks.");q(r,t)},this.showSelectFileDialog=function(t,e){var n={};o.isNullOrUndefinedOrEmpty(e)&&(e={}),n.title=e.title||"",n.suggestedName=e.suggestedName||"",n.allowMultipleSelection=o.isNullOrUndefinedOrEmpty(e.allowMultipleSelection)||e.allowMultipleSelection,n.allowedFileTypes=e.allowedFileTypes||"";var r=(new u.default).setName("showSelectFileDialog").setMethod(a.HTTP_METHOD.POST).setBody(n);if(!t)throw new Error("Must provide callbacks.");q(r,t)},this.showSelectFileDialogPromise=function(t){var e={};return o.isNullOrUndefinedOrEmpty(t)&&(t={}),e.title=t.title||"",e.suggestedName=t.suggestedName||"",e.allowMultipleSelection=o.isNullOrUndefinedOrEmpty(t.allowMultipleSelection)||t.allowMultipleSelection,e.allowedFileTypes=t.allowedFileTypes||"",q((new u.default).setName("showSelectFileDialog").setMethod(a.HTTP_METHOD.POST).setBody(e))},this.showSelectFolderDialog=function(t,e){var n={};o.isNullOrUndefinedOrEmpty(e)&&(e={}),n.title=e.title||"",n.allowMultipleSelection=o.isNullOrUndefinedOrEmpty(e.allowMultipleSelection)||e.allowMultipleSelection;var r=(new u.default).setName("showSelectFolderDialog").setMethod(a.HTTP_METHOD.POST).setBody(n);if(!t)throw new Error("Must provide callbacks.");q(r,t)},this.showSelectFolderDialogPromise=function(t){var e={};return o.isNullOrUndefinedOrEmpty(t)&&(t={}),e.title=t.title||"",e.allowMultipleSelection=o.isNullOrUndefinedOrEmpty(t.allowMultipleSelection)||t.allowMultipleSelection,q((new u.default).setName("showSelectFolderDialog").setMethod(a.HTTP_METHOD.POST).setBody(e))},this.showTransferManager=function(t){var e=(new u.default).setName("showTransferManager").setMethod(a.HTTP_METHOD.GET);if(!t)return q(e);q(e,t)},this.showTransferMonitor=function(t,e){var n=(new u.default).setName("showTransferMonitor").setMethod(a.HTTP_METHOD.GET).setParam(t).setValidator(l.validateTransferId);if(!e)return q(n);q(n,e)},this.start=function(){if(o.isNullOrUndefinedOrEmpty(p))return o.createError(-1,"Please call #initSession first.");L.init().then(function(){i.debug("Initialization finished. Connect status: "+A),P||A!==a.STATUS.RUNNING||M(),A!==a.STATUS.RUNNING&&i.debug("Connect API is not ready.")}).catch(function(t){i.error("Initialization error:",t)})},this.startTransfer=function(t,e,n){if(o.isNullOrUndefinedOrEmpty(t))throw new Error("#startTransfer transferSpec is missing or invalid");var r=n||{},i={transfer_specs:[{transfer_spec:t,aspera_connect_settings:e||{}}]};return this.startTransfers(i,r)},this.startTransferPromise=function(t,e){if(o.isNullOrUndefinedOrEmpty(t))throw new Error("#startTransfer transferSpec is missing or invalid");var n={transfer_specs:[{transfer_spec:t,aspera_connect_settings:e||{}}]};return this.startTransfers(n)},this.startTransfers=function(t,e){var n=o.generateUuid(),r=(new u.default).setName("startTransfer").setMethod(a.HTTP_METHOD.POST).setBody(t).setRequestId(n);return e?(q(r,e),{request_id:n}):q(r)},this.stop=function(){return L.stopRequests()},this.stopTransfer=function(t,e){var n=(new u.default).setName("stopTransfer").setMethod(a.HTTP_METHOD.POST).setParam(t).setValidator(l.validateTransferId);if(!e)return q(n);q(n,e)},this.testSshPorts=function(t,e){if(!t||!t.remote_host)throw new Error("#testSshPorts options argument is either missing or incorrect.");var n={};n.remote_host=t.remote_host,n.ssh_port=t.ssh_port||33001,n.timeout_sec=t.timeout_sec||3;var r=(new u.default).setName("testSshPorts").setMethod(a.HTTP_METHOD.POST).setBody(n);if(!e)return q(r);q(r,e)},this.version=function(t){var e=(new u.default).setName("version").setMethod(a.HTTP_METHOD.GET);if(!t)return q(e);q(e,t)}};d.EVENT=a.EVENT,d.HTTP_METHOD=a.HTTP_METHOD;var p=o.copyObject(a.STATUS);delete p.DEGRADED,delete p.STOPPED,delete p.WAITING,d.STATUS=p,d.TRANSFER_STATUS=a.TRANSFER_STATUS,e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=r.__importStar(n(5)),i=r.__importStar(n(4)),s=n(3),a=n(44),c=r.__importDefault(n(123)),u=function(){function t(t){var e=this;this._options=t,this._objectId=0,this._nextId=0,this.versionChecked=!1,this._idRequestHash={},this._queue=[],this._pollingRequestErrors=0,this._handlerStatus="",this.processQueue=function(){for(var t=function(){var t=e._queue.pop();if(t){var n={method:t.method,path:t.path,body:t.body};o.debug("Processing request queue for endpoint: "+n.path),e._strategy.httpRequest(n,t.requestId).then(function(t){return e.handleResponse(t)}).then(function(e){t&&t.resolve&&t.resolve(e)}).catch(function(e){t&&t.reject&&t.reject(e)})}};e._queue.length>0;)t();o.debug("Request queue empty.")},this.changeConnectStatus=function(t){if(!e.versionChecked&&t===s.STATUS.RUNNING)return e.checkVersion();if(i.BROWSER.SAFARI&&e.connectStatus===s.STATUS.OUTDATED&&t===s.STATUS.RUNNING)return e.checkVersion();if(e.connectStatus!==t){if(o.debug("["+e._objectId+"] Request handler status changing from["+e.connectStatus+"] to["+t+"]"),e.connectStatus=t,e.connectStatus===s.STATUS.RUNNING&&e.processQueue(),e._handlerStatus===s.STATUS.DEGRADED)return e.checkVersion();t!==s.STATUS.WAITING&&t!==s.STATUS.STOPPED&&e._options.statusListener(e.connectStatus)}},this.checkVersionCallback=function(t){if(e.versionChecked=!0,delete e._idRequestHash[t.requestId],i.isSuccessCode(t.status)){var n=i.parseJson(t.body);if(i.isError(n))return void o.error("Failed to parse version response: "+t);a.ConnectGlobals.connectVersion=n.version}else if(0===t.status)return o.debug("Bad check version response. Retrying..."),e.versionChecked=!1,void setTimeout(function(){e.checkVersion()},500);if(i.checkVersionException()||((""===e._options.minVersion||i.versionLessThan(e._options.minVersion,s.MIN_SECURE_VERSION))&&(e._options.minVersion=s.MIN_SECURE_VERSION),!i.versionLessThan(a.ConnectGlobals.connectVersion,e._options.minVersion)))e.changeConnectStatus(s.STATUS.RUNNING);else{if(e.connectStatus!==s.STATUS.OUTDATED){e.changeConnectStatus(s.STATUS.OUTDATED);var r=e._nextId++,c={min_version:e._options.minVersion,sdk_location:e._options.sdkLocation},u={method:"POST",path:"/connect/update/require",body:JSON.stringify(c)};e.cacheRequest(u,r),e._strategy.httpRequest(u,r)}var l=1,f=setInterval(function(){if(o.debug("Checking for Connect upgrade. Attempt "+l),i.BROWSER.SAFARI&&o.debug("Safari upgrade requires a page refresh. Extension context becomes invalidated."),l++,e.connectStatus!==s.STATUS.RUNNING&&e._handlerStatus!==s.STATUS.STOPPED){var t=e._nextId++;e._strategy.httpRequest({method:"GET",path:"/connect/info/version"},t).then(function(t){var n=i.parseJson(t.body);i.isError(n)?o.error("Failed to parse version response: "+t):i.versionLessThan(n.version,e._options.minVersion)||(o.debug("Updated Connect found."),clearInterval(f),e.checkVersion())}).catch(function(t){throw new Error(t)})}else clearInterval(f)},1e3)}},this.cacheRequest=function(t,n,r){var o={method:t.method,path:t.path,body:t.body,requestId:n};return r&&(o.resolve=r.resolve,o.reject=r.reject),e._idRequestHash[n]=o,o},this.checkVersion=function(){return r.__awaiter(e,void 0,void 0,function(){var t,e,n;return r.__generator(this,function(r){switch(r.label){case 0:return t={method:"GET",path:"/connect/info/version"},e=this._nextId++,this.cacheRequest(t,e),[4,this._strategy.httpRequest(t,e)];case 1:return(n=r.sent())&&this.checkVersionCallback(n),[2]}})})},this.handleResponse=function(t){return new Promise(function(n,r){if(e._handlerStatus===s.STATUS.STOPPED)return o.debug("Connect stopped. Skipping request processing."),r(i.createError(-1,"Connect is stopped. Skipping request processing."));var a=e._idRequestHash[t.requestId];if(0===t.status)return e._pollingRequestErrors<s.MAX_POLLING_ERRORS&&a.path.indexOf("/connect/transfers/activity")>0?(e._pollingRequestErrors++,r(i.createError(-1,"Error processing transfer activity request"))):void e._queue.push(a);e.connectStatus!==s.STATUS.RUNNING&&e.changeConnectStatus(s.STATUS.RUNNING);var c=i.parseJson(t.body);delete e._idRequestHash[t.requestId],i.isError(c)||!i.isSuccessCode(t.status)?r(c):n(c)})},this.start=function(t){return new Promise(function(n,r){if(e._handlerStatus===s.STATUS.STOPPED)return r(i.createError(-1,"Connect is stopped. Call #start to resume session."));if(e._handlerStatus===s.STATUS.DEGRADED)return e.checkVersion();var a=e._nextId++,c=e.cacheRequest(t,a,{resolve:n,reject:r});if(e.connectStatus!==s.STATUS.RUNNING)return o.debug("Queueing request. Connect is currently "+e.connectStatus+"."),void e._queue.push(c);e._strategy.httpRequest(t,a).then(function(t){return e.handleResponse(t)}).then(function(t){n(t)}).catch(function(t){r(t)})})},this.handleFallback=function(t){if(0!==t.status){var n=i.parseJson(t.body);return delete e._idRequestHash[t.requestId],i.isError(n)?void 0:n}},this.stopRequests=function(){return e._handlerStatus=s.STATUS.STOPPED,"function"==typeof e._strategy.stop&&e._strategy.stop(),!0},this._provider=new c.default(r.__assign({},t,{requestStatusCallback:this.changeConnectStatus})),this._objectId=t.objectId,this._nextId=1e4*this._objectId,window.addEventListener("message",function(t){e.connectStatus!==s.STATUS.RUNNING&&"continue"===t.data&&e._strategy&&e._strategy.stop&&(e._strategy.stop(),e._strategy=e._provider.getHttpStrategy())})}return t.prototype.httpFallback=function(t){return r.__awaiter(this,void 0,void 0,function(){var e,n,o,i;return r.__generator(this,function(r){switch(r.label){case 0:return e=this._provider.getHttpStrategy(),n={path:"/connect/info/"+t,method:"GET"},o=this._nextId++,this.cacheRequest(n,o),[4,e.httpRequest(n,o)];case 1:return i=r.sent(),[2,this.handleFallback(i)]}})})},t.prototype.handleTimeout=function(t){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(n){switch(n.label){case 0:return"timeout"!==t.error.user_message?[2,Promise.reject(new Error("Reason: "+t.error.user_message))]:this._handlerStatus===s.STATUS.STOPPED?[2,Promise.reject(new Error("Reason: stop() was called during initialization."))]:this.connectStatus===s.STATUS.RUNNING||this.connectStatus===s.STATUS.OUTDATED||this.connectStatus===s.STATUS.EXTENSION_INSTALL?[3,3]:(o.debug("Connect detection timed out after: "+this._options.connectLaunchWaitTimeoutMs+"ms"),"http"!==this._strategy.name&&"safari"!==this._strategy.name&&"npapi"!==this._strategy.name&&"nmh"!==this._strategy.name||this.changeConnectStatus(s.STATUS.FAILED),"nmh"!==this._strategy.name?[3,2]:this.connectStatus!==s.STATUS.FAILED?[3,2]:[4,this.httpFallback("version")]);case 1:return(e=n.sent())&&i.versionLessThan(e.version,"3.9")?[2,Promise.reject(new Error("Reason: Incompatible version of Connect detected. You must upgrade to 3.9+."))]:e&&!i.versionLessThan(e.version,"3.9")?[2,Promise.reject(new Error("Reason: Connect 3.9+ was detected and is responding to http requests, but not to extension requests. Check native message host registration."))]:[2,Promise.reject(new Error("Reason: Check that Connect 3.9+ is installed."))];case 2:return[2,Promise.reject(new Error("Reason: "+this._strategy.name+" init timeout"))];case 3:return this.connectStatus===s.STATUS.EXTENSION_INSTALL?[2,Promise.reject(new Error("Reason: Extension not detected. Make sure it is enabled if already installed."))]:this.connectStatus===s.STATUS.OUTDATED?(o.debug("Connect detected but is outdated."),[2]):[2]}})})},t.prototype.init=function(){return r.__awaiter(this,void 0,void 0,function(){var t,e,n,a=this;return r.__generator(this,function(r){switch(r.label){case 0:return this.changeConnectStatus(s.STATUS.INITIALIZING),this._handlerStatus="",o.debug("Determining request strategy..."),t=this,[4,this._provider.getStrategy()];case 1:return t._strategy=r.sent(),e=new Promise(function(t){setTimeout(t,a._options.connectLaunchWaitTimeoutMs,i.createError(-1,"timeout"))}),[4,Promise.race([e,this._strategy.startup()])];case 2:return n=r.sent(),i.isError(n)?[2,this.handleTimeout(n)]:(o.debug("Connect initialized. Checking version now."),[4,this.checkVersion()]);case 3:return r.sent(),[2]}})})},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=r.__importDefault(n(27)),i=n(3),s=r.__importStar(n(4)),a=r.__importStar(n(5)),c=n(64),u=r.__importDefault(n(126)),l=n(65),f=r.__importDefault(n(128)),d=function(t){var e=this;this._options=t,this.create=function(t){return new t(e._options)},this.getHttpStrategy=function(){return e.create(f.default)},this.getStrategy=function(){return r.__awaiter(e,void 0,void 0,function(){var t,e;return r.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.supportsNpapi()?(a.debug("Using npapi strategy"),this.strategy=this.create(u.default),[3,4]):[3,1];case 1:return this.requiresHttp()?(this.setHttpStrategy(),[3,4]):[3,2];case 2:return a.debug("Attempting extension strategy"),this.strategy=this.supportsNativeHost()?this.create(l.NativeHostStrategy):this.create(l.SafariAppStrategy),a.debug("Checking if extension installed..."),[4,this.strategy.detectExtension(1e3)];case 3:n.sent()||(t=!0===c.ConnectInstaller.supportsInstallingExtensions,"extension"===this._options.connectMethod||t?this.supportsSafariAppExt()||(this._options.requestStatusCallback(i.STATUS.EXTENSION_INSTALL),window.postMessage("show_extension_install","*")):(a.debug("Falling back to http strategy"),this.setHttpStrategy())),n.label=4;case 4:return[2,this.strategy];case 5:throw e=n.sent(),new Error("Unexpected error while determining the request implementation: "+e);case 6:return[2]}})})},this.requiresHttp=function(){return"http"===e._options.connectMethod||!e.supportsExtensions()||s.checkVersionException()},this.setHttpStrategy=function(){a.debug("Using http strategy"),e.strategy=e.getHttpStrategy()},this.supportsExtensions=function(){return e.supportsNativeHost()||e.supportsSafariAppExt()},this.supportsHttp=function(){return null!==s.getXMLHttpRequest()},this.supportsNativeHost=function(){return o.default.CHROME||o.default.EDGE_WITH_EXTENSION||o.default.FIREFOX},this.supportsNpapi=function(){return o.default.IE||o.default.SAFARI&&!o.default.SAFARI_NO_NPAPI},this.supportsSafariAppExt=function(){return o.default.SAFARI_NO_NPAPI}};e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=r.__importStar(n(5)),i=n(4),s=n(3),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._extensionDetected=!1,e.name="nmh",e.handleDisconnect=function(t){return r.__awaiter(e,void 0,void 0,function(){var e;return r.__generator(this,function(n){switch(n.label){case 0:return o.debug("Native host disconnected. Detail: "+t.detail),this.connectStatus===s.STATUS.OUTDATED?[2]:t&&t.detail&&(e=!1,["native messaging host not found","Error when communicating with the native messaging host","Access to the specified native messaging host is forbidden","No such native application"].forEach(function(n){-1!==t.detail.indexOf(n)&&(e=!0)}),e)?(this.changeConnectStatus(s.STATUS.FAILED),document.removeEventListener("AsperaConnectDisconnect",this.handleDisconnect),[2]):this.connectStatus===s.STATUS.DEGRADED?[3,2]:(this.changeConnectStatus(s.STATUS.DEGRADED),[4,this.detectConnect(this.options.connectLaunchWaitTimeoutMs)]);case 1:n.sent()?this.changeConnectStatus(s.STATUS.RUNNING):this.changeConnectStatus(s.STATUS.FAILED),n.label=2;case 2:return[2]}})})},e.resolveExtensionResponse=function(t){var n;if("message"===t.type&&"object"==typeof t.data&&"type"in t.data&&"AsperaConnectResponse"===t.data.type&&"detail"in t.data?n=t.data.detail:"detail"in t&&(n=t.detail),n){o.trace("Native host impl received response: "+JSON.stringify(n));var r=n.request_id;if(!(r in e.outstandingRequests))return;var s=e.outstandingRequests[r].resolve;if("body64"in n){if(e.outstandingRequests[r].response+=n.body64,!0===n.complete){var a=i.atou(e.outstandingRequests[r].response);delete e.outstandingRequests[r],s({status:n.status,body:a,requestId:r})}}else delete e.outstandingRequests[r],s({status:n.status,body:n.body,requestId:r})}},e.detectionLoop=function(t,n){return void 0===t&&(t=-1),r.__awaiter(e,void 0,void 0,function(){var e,o;return r.__generator(this,function(i){switch(i.label){case 0:return e=new Promise(function(e){setTimeout(e,t,!1)}),[4,Promise.race(r.__spread(-1!==t?[e]:[],[n()]))];case 1:return o=i.sent(),clearInterval(this._detectionRetry),[2,o]}})})},e.detectConnect=function(t){return void 0===t&&(t=-1),r.__awaiter(e,void 0,void 0,function(){var e,n=this;return r.__generator(this,function(a){return e=function(){return new Promise(function(t){var e=1,a=function(){return r.__awaiter(n,void 0,void 0,function(){var n,a;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),o.debug("Detecting Connect installation via extension. Attempt "+e),e++,n={method:"GET",path:"/connect/info/version"},a=10500*this.options.objectId,[4,this.httpRequest(n,a)];case 1:return 503===r.sent().status?(o.debug("Detected old version of Connect via extension."),this.changeConnectStatus(s.STATUS.OUTDATED)):(o.debug("Detected Connect installation via extension."),i.recordConnectDetected(),this.changeConnectStatus(s.STATUS.RUNNING),clearInterval(this._detectionRetry),t(!0)),[3,3];case 2:return r.sent(),clearInterval(this._detectionRetry),t(!1),[3,3];case 3:return[2]}})})};n._detectionRetry=setInterval(a,1e3),a()})},[2,this.detectionLoop(t,e)]})})},e.detectExtension=function(t){return void 0===t&&(t=-1),r.__awaiter(e,void 0,void 0,function(){var e,n=this;return r.__generator(this,function(r){return this._extensionDetected?[2,!0]:(e=function(){return new Promise(function(e){var r=1,i=function(){o.debug("Detecting Connect extension. Attempt "+r),r++,document.dispatchEvent(new CustomEvent("AsperaConnectCheck",{}))},s=function(t){"message"===t.type&&"object"==typeof t.data&&"type"in t.data&&"AsperaConnectCheckResponse"===t.data.type&&(window.removeEventListener("message",s),o.debug("Extension detected: "+JSON.stringify(t.data)),n._extensionDetected=!0,clearInterval(n._detectionRetry),e(!0))};window.addEventListener("message",s);var a=-1===t?1e3:200;n._detectionRetry=setInterval(i,a),i()})},[2,this.detectionLoop(t,e)])})})},e.stop=function(){clearInterval(e._detectionRetry)},e.startup=function(){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:return document.addEventListener("AsperaConnectResponse",this.resolveExtensionResponse),window.addEventListener("message",this.resolveExtensionResponse),document.addEventListener("AsperaConnectDisconnect",this.handleDisconnect),[4,this.detectExtension()];case 1:return t.sent(),[4,this.detectConnect()];case 2:return t.sent(),o.debug("nmh init finished"),[2]}})})},e}return r.__extends(e,t),e}(r.__importDefault(n(66)).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=r.__importStar(n(5)),i=n(3),s=r.__importDefault(n(66)),a=3,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pollingRequestErrors=0,e.extensionDetected=!1,e.name="safari",e.resolveHttpResponse=function(t){if(t.detail){o.trace("Safari extension impl received response: "+JSON.stringify(t));var n=t.detail.request_id;if(!(n in e.outstandingRequests))return;var r=e.outstandingRequests[n].req.uri_reference,i=e.outstandingRequests[n].resolve;if(delete e.outstandingRequests[n],0===t.detail.status&&r.indexOf("/connect/transfers/activity")>0&&e.pollingRequestErrors<a)return void e.pollingRequestErrors++;e.pollingRequestErrors=0,i({status:t.detail.status,body:t.detail.body,requestId:n})}},e.checkEvent=function(){document.dispatchEvent(new CustomEvent("AsperaConnectCheck",{}))},e.detectExtension=function(t){return void 0===t&&(t=-1),r.__awaiter(e,void 0,void 0,function(){var e,n,s,a=this;return r.__generator(this,function(c){switch(c.label){case 0:return this.extensionDetected?(o.debug("Skipping extension check - already detected."),[2,!0]):(e=new Promise(function(e){setTimeout(e,t,!1)}),n=function(){return new Promise(function(e){var n=1,r=function(){o.debug("Detecting Connect extension. Attempt "+n),n++,a.checkEvent();var t=document.getElementById("aspera-connect-detector");if(t&&"true"===t.getAttribute("extension-enable")&&(o.debug("Detected extension"),clearInterval(a.detectionRetry),a.checkEvent(),setTimeout(function(){a.extensionDetected?(a.changeConnectStatus(i.STATUS.RUNNING),e(!0)):(window.postMessage("show_safari_mitigate","*"),e(!1))},1e3)),!t){o.debug("Creating detector in sdk...");var r=document.createElement("div");r.id="aspera-connect-detector",r.setAttribute("extension-enable","false"),document.body.appendChild(r)}},s=function(t){"AsperaConnectCheckResponse"===t.type&&"detail"in t&&"object"==typeof t.detail&&(document.removeEventListener("AsperaConnectCheckResponse",s),o.debug("Got response from Connect: "+JSON.stringify(t.detail)),clearInterval(a.detectionRetry),a.extensionDetected=!0,e(!0))};document.addEventListener("AsperaConnectCheckResponse",s);var c=-1===t?500:200;a.detectionRetry=setInterval(r,c),r()})},[4,Promise.race(r.__spread(-1!==t?[e]:[],[n()]))]);case 1:return s=c.sent(),clearInterval(this.detectionRetry),[2,s]}})})},e.stop=function(){clearTimeout(e.detectionRetry)},e.startup=function(){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:return o.debug("startup()"),document.addEventListener("AsperaConnectResponse",this.resolveHttpResponse),[4,this.detectExtension()];case 1:return t.sent(),o.debug("safari init finished"),[2]}})})},e}return r.__extends(e,t),e.prototype.triggerExtensionCheck=function(){var t=document.createElement("IFRAME");t.src="fasp://initialize?checkextensions",t.style.visibility="hidden",t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.style.border="0px",document.body.appendChild(t)},e}(s.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2).__importDefault(n(127));e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=r.__importDefault(n(27)),i=n(3),s=r.__importStar(n(5)),a=n(4),c=function(t){var e=this;this.options=t,this.VERSION_PREFIX="/v5",this.pluginId="",this.listenerId="",this.name="npapi",this.createNPAPIPlugin=function(t){var n=document.getElementById(e.listenerId);if(a.isNullOrUndefinedOrEmpty(n))(n=document.createElement("div")).setAttribute("id",e.listenerId),n.setAttribute("style","display:inline-block;height:1px;width:1px;");else for(;n.firstChild;)n.removeChild(n.firstChild);e.npapiPlugin=document.createElement("object"),e.npapiPlugin.setAttribute("name",e.pluginId),e.npapiPlugin.setAttribute("id",e.pluginId),e.npapiPlugin.setAttribute("type","application/x-aspera-web"),e.npapiPlugin.setAttribute("width","1"),e.npapiPlugin.setAttribute("height","1");var r=document.createElement("param");r.setAttribute("name","connect-launch-wait-timeout-ms"),r.setAttribute("value",String(t)),e.npapiPlugin.appendChild(r),n.appendChild(e.npapiPlugin),document.body.appendChild(n)},this.httpRequest=function(t,n){var r=a.generatePromiseData();a.isNullOrUndefinedOrEmpty(t.body)&&(t.body="");var o=""+e.VERSION_PREFIX+t.path;return a.isNullOrUndefinedOrEmpty(e.npapiPlugin)?r.rejecter(new Error("Plugin not detected.")):e.npapiPlugin.httpRequestImplementation(t.method,o,t.body,function(t){var e=a.parseJson(t);a.isError(e)?r.resolver({status:e.error.code,body:t,requestId:n}):r.resolver({status:200,body:t,requestId:n})}),r.promise},this.startup=function(){return r.__awaiter(e,void 0,void 0,function(){var t,e,n=this;return r.__generator(this,function(r){t=this.options.requestStatusCallback;try{if(a.isNullOrUndefinedOrEmpty(this.npapiPlugin))if(o.default.IE&&new ActiveXObject("Aspera.AsperaWebCtrl.1")||"application/x-aspera-web"in navigator.mimeTypes)this.listenerId=this.options.containerId,this.pluginId=this.options.id,this.createNPAPIPlugin(this.options.connectLaunchWaitTimeoutMs),e=setInterval(function(){if(n.npapiPlugin&&n.npapiPlugin.queryBuildVersion)return clearInterval(e),a.versionLessThan(n.npapiPlugin.queryBuildVersion(),"3.6")?(n.npapiPlugin=void 0,t(i.STATUS.FAILED),a.createError(-1,"Plugin too old. Version less than 3.6")):void 0},500);else if(a.isNullOrUndefinedOrEmpty(this.npapiPlugin))return t(i.STATUS.FAILED),[2,a.createError(-1,"Plugin not detected. Either not installed or enabled.")]}catch(e){return t(i.STATUS.FAILED),s.debug(JSON.stringify(e)),[2,a.createError(-1,"Plugin load error. Make sure plugin is enabled. Details: "+e)]}return[2]})})}};e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2).__importDefault(n(129));e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=r.__importDefault(n(27)),i=r.__importStar(n(5)),s=r.__importStar(n(4)),a=n(3),c=function(t){var e=this;this.options=t,this.connectStatus=a.STATUS.INITIALIZING,this.connectPort=a.DEFAULT_PORT,this.scanRetryTimeValues=[0,1],this.objectId=0,this.nextId=0,this.pollingRequestErrors=0,this.windowUnloading=!1,this.VERSION_PREFIX="/v5",this.name="http",this.changeConnectStatus=function(t){e.connectStatus!==t&&(i.debug("["+e.objectId+"] Http request handler status changing from["+e.connectStatus+"] to["+t+"]"),e.connectStatus=t,e.requestStatusCallback&&e.requestStatusCallback(t))},this.check=function(){return r.__awaiter(e,void 0,void 0,function(){var t,e,n,o;return r.__generator(this,function(r){switch(r.label){case 0:t=!1,e=a.DEFAULT_PORT,r.label=1;case 1:return e<a.DEFAULT_PORT+1+a.MAX_PORT_SEARCH?(n=this.nextId,this.connectPort=e,[4,this.ping(n)]):[3,4];case 2:if((o=r.sent())&&s.isSuccessCode(o.status))return t=!0,[3,4];r.label=3;case 3:return e++,[3,1];case 4:return[2,t]}})})},this.detectConnect=function(t){return r.__awaiter(e,void 0,void 0,function(){var e,n=this;return r.__generator(this,function(o){switch(o.label){case 0:return this.connectStatus===a.STATUS.RUNNING||this.connectStatus===a.STATUS.STOPPED?[2,!0]:(this.connectStatus!==a.STATUS.INITIALIZING||t||(s.launchConnect(),this.changeConnectStatus(a.STATUS.RETRYING)),[4,this.check()]);case 1:return o.sent()?[3,3]:(e=this.scanRetryTimeValues[0]+this.scanRetryTimeValues[1],this.scanRetryTimeValues[0]=this.scanRetryTimeValues[1],this.scanRetryTimeValues[1]=e,[4,new Promise(function(t){setTimeout(function(){return r.__awaiter(n,void 0,void 0,function(){return r.__generator(this,function(e){switch(e.label){case 0:return[4,this.detectConnect(!1)];case 1:return e.sent(),this.changeConnectStatus(a.STATUS.RUNNING),t(),[2]}})})},1e3*e)})]);case 2:o.sent(),o.label=3;case 3:return[2,!0]}})})},this.ping=function(t){return r.__awaiter(e,void 0,void 0,function(){var e;return r.__generator(this,function(n){return e={method:"GET",path:"/connect/info/ping"},[2,this.httpRequest(e,t)]})})},this.reconnect=function(){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:return this.changeConnectStatus(a.STATUS.RETRYING),s.launchConnect(),[4,this.detectConnect(!1)];case 1:return t.sent(),i.debug("Reconnect successful!"),this.changeConnectStatus(a.STATUS.RUNNING),[2]}})})},this.send=function(t,n){var r=s.generatePromiseData(),o=s.getXMLHttpRequest();return o.onreadystatechange=function(){if(e.connectStatus===a.STATUS.STOPPED||e.windowUnloading)return i.debug("Connect stopped or page unloading. Skipping xhr processing."),r.rejecter(s.createError(-1,"Connect stopped or page unloading. Skipping xhr processing."));if(4===o.readyState){if(0===o.status&&e.connectStatus===a.STATUS.RUNNING){if(e.pollingRequestErrors<a.MAX_POLLING_ERRORS&&t.path.indexOf("activity")>0)return void e.pollingRequestErrors++;if(-1===t.path.indexOf(e.connectPort.toString())&&t.path.indexOf("ping")>0)return;e.reconnect()}var c=o.responseText;i.trace("HttpRequest processed["+t.path+"] postData["+t.body+"] status["+o.status+"] response["+c+"]"),r.resolver({status:o.status,body:c,requestId:n})}},o.open(t.method,t.path,!0),"GET"===t.method.toUpperCase()?o.send():o.send(t.body),r.promise},this.httpRequest=function(t,n){return r.__awaiter(e,void 0,void 0,function(){var e;return r.__generator(this,function(r){switch(r.label){case 0:return e=""+a.LOCALHOST+this.connectPort+this.VERSION_PREFIX+t.path,t.path=e,[4,this.send(t,n)];case 1:return[2,r.sent()]}})})},this.stop=function(){e.changeConnectStatus(a.STATUS.STOPPED)},this.startup=function(){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:return this.requestStatusCallback=this.options.requestStatusCallback,[4,this.detectConnect(!0)];case 1:return t.sent(),i.debug("Finished http init"),[2]}})})},o.default.SAFARI_NO_NPAPI&&window.addEventListener("beforeunload",function(){e.windowUnloading=!0}),t.objectId&&(this.objectId=t.objectId,this.nextId=1e4*this.objectId)};e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=function(){function t(t){var e=this;this.requestHandler=t,this.send=function(t){var n=e.getEndpointUrl(t.name,t.param);return e.httpRequest(t.method,n,"POST"===t.method?JSON.stringify(t.body):void 0)},this.httpRequest=function(t,n,r){var o={method:t,path:n,body:r};return e.requestHandler.start(o)}}return t.prototype.getEndpointUrl=function(t,e){var n=r.apiEndpoints[t];if(!n)throw new Error("Connect API ("+t+") not known");var o=n.route,i=n.prefix;return e&&(o=o.replace("${id}",e)),""+i+o},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(4),i=n(68),s=function(){function t(){this.validators=[]}return t.prototype.addSettings=function(t){var e=o.copyObject(this.body);if(e=t(e),"startTransfer"===this.name&&this.requestId)for(var n=void 0,r=0;r<e.transfer_specs.length;r++)(n=t(n=e.transfer_specs[r])).aspera_connect_settings.request_id=this.requestId,o.isNullOrUndefinedOrEmpty(n.aspera_connect_settings.back_link)&&(n.aspera_connect_settings.back_link=window.location.href);this.body=e},t.prototype.setBody=function(t){return this.body=t,this},t.prototype.setMethod=function(t){return this.method=t,this},t.prototype.setName=function(t){return this.name=t,this},t.prototype.setParam=function(t){return this.param=t,this},t.prototype.setRequestId=function(t){return this.requestId=t,this},t.prototype.setValidator=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.validators=r.__spread(this.validators,t),this},t.prototype.validate=function(){var t=this;this.validators.push(i.validateName,i.validateMethod),this.validators.forEach(function(e){e(t)})},t.prototype.send=function(t){return this.validate(),t.send(this)},t}();e.default=s}]);